## run mysql container

docker run -d \
    --name demo-mysql \
    -p 3306:3306 \
    -e MYSQL_ROOT_PASSWORD=123456 \
    -e MYSQL_DATABASE=demo \
    -e MYSQL_USER=demo_user \
    -e MYSQL_PASSWORD=demo_pass \
    mysql:5.6

## check logs for mysql
docker logs demo-mysql

## login mysql to execute some scripts
docker exec -it demo-mysql bash

mysql -uroot -p123456

## grant privileges
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY '123456' WITH GRANT OPTION;

use demo

## execute person.sql
DROP TABLE IF EXISTS `person`;
CREATE TABLE `person` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4;

insert into person(name) values('zhengzhiqing');

## git clone
git clone https://github.com/xxxx
cd dockerdemo

## model/mapper(java)/mapper(xml) can be generated by MyBatisGenerator
via execute:
./gradlew dbgen
In this case, already generated, no need to generate again

## build docker image for dockerdemo
./gradlew build docker

## run application with link to existing mysql container previously created
docker run -d \
    -p 8080:8080 \
    --name dockerdemo \
    --link demo-mysql:mysql \
    com.example/dockerdemo

## test out
curl http://localhost:8080